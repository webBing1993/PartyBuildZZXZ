{extend name="public/common"}

{block name="style"}
<link rel="stylesheet" href="/home/css/service/organization.css">
<title>组织概况</title>
<style>
	a:active{
		background: #f5f5f5;
	}
</style>
{/block}
{block name="body"}
<div class="banner"><img data-original="/home/images/banner/1.jpg" class="lazy"></div>
<div class="department">
	<div class="departmentTop"><span style="color:#fff;">部门简介</span><img src="/home/images/icon/icon_01.png" alt=""></div>
	<div class="departmentText">
		<p>山下湖镇党委下辖两新工委1个，两新党组织22个，其中党委1个，党总支1个，党支部20个。2017年以来，山下湖镇党委根据自身实际，扎实推进两新党组织建设，全面铺开“三亮三提升”工作，其中珍珠小镇党群服务中心基本建成，浙江七大洲集团有限公司党支部专项切出50余万元建设天使之泪党群服务中心，目前，22个党组织亮出党组织名称，300余名党员亮出承诺，力争建成高标准的两新党建示范带。</p>
	</div>
</div>
<div class="organization">
	<div class="organizationTop"><img src="/home/images/lxyz/icon_013.png">组织架构</div>
	<div class="organization_link">
		{volist name="list" id="vo"}
		<a href="{:Url('structure/detail?id='.$vo.id)}"><p class="bumen">{$vo.name}</p></a>
		{/volist}
	</div>
</div>
{/block}

{block name="script"}

<script>
    $("img.lazy").lazyload({
        placeholder: "/home/images/loading.jpg",
        effect: "fadeIn",
        threshold : 500
    });
    $(document).scroll(function() {
        $("img.lazy").lazyload({
            placeholder: "/home/images/loading.jpg",
            effect: "fadeIn",
            threshold: 1
        });
    });

    for(var j=0;j<$('.organization_link a').length;j++){
        $('.organization_link a').eq(j).css('border-left','.533vw solid'+getColor())
    }
    //定义一个函数，实现随机生成十六进制颜色值
    function getColor(){
        //定义字符串变量colorValue存放可以构成十六进制颜色值的值
        var colorValue="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f";
        //以","为分隔符，将colorValue字符串分割为字符数组["0","1",...,"f"]
        var colorArray = colorValue.split(",");
        var color="#";//定义一个存放十六进制颜色值的字符串变量，先将#存放进去
        //使用for循环语句生成剩余的六位十六进制值
        for(var i=0;i<6;i++){
            //colorArray[Math.floor(Math.random()*16)]随机取出
            // 由16个元素组成的colorArray的某一个值，然后将其加在color中，
            //字符串相加后，得出的仍是字符串
            color+=colorArray[Math.floor(Math.random()*16)];
        }
        return color;
    }
</script>
{/block}